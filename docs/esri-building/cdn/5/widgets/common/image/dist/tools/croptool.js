System.register(["jimu-core","jimu-ui","jimu-for-builder"],function(e,t){var i={},o={},n={};return{setters:[function(e){i.appActions=e.appActions,i.getAppStore=e.getAppStore,i.i18n=e.i18n},function(e){o.ImageFillMode=e.ImageFillMode},function(e){n.builderAppSync=e.builderAppSync}],execute:function(){e((()=>{var e={4108:e=>{"use strict";e.exports=n},14321:e=>{"use strict";e.exports=o},79244:e=>{"use strict";e.exports=i},90546:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2 .5a.5.5 0 0 1 1 0V2h10.288L15.142.146a.5.5 0 1 1 .707.708L14 2.702V13h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V14H2V3H.5a.5.5 0 0 1 0-1H2zM3 3v9.288L12.288 3zm10 10H3.702L13 3.702z" clip-rule="evenodd"></path></svg>'}},t={};function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var u={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(u),r.d(u,{default:()=>l});var e=r(79244),t=r(14321);const i="Crop";var o=r(90546),n=r.n(o),a=r(4108);class l{constructor(){this.index=1,this.id="image-croptool",this.classes={},this.isEmptySource=e=>{var t,i,o,n;return!((null===(t=null==e?void 0:e.functionConfig)||void 0===t?void 0:t.imageParam)&&(null===(o=null===(i=e.functionConfig)||void 0===i?void 0:i.imageParam)||void 0===o?void 0:o.url)||(null===(n=null==e?void 0:e.functionConfig)||void 0===n?void 0:n.srcExpression))}}getGroupId(){return null}getTitle(){const t=this.widgetId,o=e.i18n.getIntl(t);return o?o.formatMessage({id:"imageCrop",defaultMessage:i}):"Crop"}getIcon(){return n()}onClick(t){var i;const o=window.jimuConfig.isBuilder?null===(i=(0,e.getAppStore)().getState().appStateInBuilder)||void 0===i?void 0:i.appConfig:(0,e.getAppStore)().getState().appConfig,n=t.layoutItem.widgetId,r=o.widgets[n];if(r){const t=r.config;t.functionConfig.imageParam&&t.functionConfig.imageParam.url&&(window.jimuConfig.isBuilder?a.builderAppSync.publishSetWidgetIsInlineEditingStateToApp(n,!0):(0,e.getAppStore)().dispatch(e.appActions.setWidgetIsInlineEditingState(n,!0)))}}visible(i){var o;const n=(window.jimuConfig.isBuilder?null===(o=(0,e.getAppStore)().getState().appStateInBuilder)||void 0===o?void 0:o.appConfig:(0,e.getAppStore)().getState().appConfig).widgets[i.layoutItem.widgetId];if(n){const e=n.config;return!this.isEmptySource(e)&&(!e.functionConfig.srcExpression&&(!e.functionConfig.imageParam||e.functionConfig.imageFillMode!==t.ImageFillMode.Fit))}return!1}getSettingPanel(e){return null}}})(),u})())}}});