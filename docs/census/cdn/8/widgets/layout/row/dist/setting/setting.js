System.register(["jimu-core/emotion","jimu-core","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime","jimu-layouts/layout-builder","jimu-ui","jimu-ui/advanced/style-setting-components"],function(t,e){var n={},i={},s={},o={},a={},r={},u={},l={};return{setters:[function(t){n.jsx=t.jsx,n.jsxs=t.jsxs},function(t){i.APP_FRAME_NAME_IN_BUILDER=t.APP_FRAME_NAME_IN_BUILDER,i.Immutable=t.Immutable,i.React=t.React,i.ReactRedux=t.ReactRedux},function(t){s.getAppConfigAction=t.getAppConfigAction},function(t){o.SettingRow=t.SettingRow,o.SettingSection=t.SettingSection},function(t){a.utils=t.utils},function(t){r.DEFAULT_ROW_LAYOUT_SETTING=t.DEFAULT_ROW_LAYOUT_SETTING},function(t){u.DistanceUnits=t.DistanceUnits,u.styleUtils=t.styleUtils,u.utils=t.utils},function(t){l.InputUnit=t.InputUnit,l.Padding=t.Padding}],execute:function(){t((()=>{var t={4108:t=>{"use strict";t.exports=s},6055:t=>{"use strict";t.exports=r},14321:t=>{"use strict";t.exports=u},15562:t=>{"use strict";t.exports=l},41496:t=>{"use strict";t.exports=a},67386:t=>{"use strict";t.exports=n},79244:t=>{"use strict";t.exports=i},79298:t=>{"use strict";t.exports=o}},e={};function c(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,c),s.exports}c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.p="";var d={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(d),c.d(d,{__set_webpack_public_path__:()=>p,default:()=>l});var t=c(67386),e=c(79244),n=c(4108),i=c(79298),s=c(41496),o=c(6055),a=c(14321),r=c(15562);class u extends e.React.PureComponent{constructor(){super(...arguments),this.handleSpaceChange=t=>{const{layoutSetting:e}=this.props,i=(0,n.getAppConfigAction)();this.getLayoutIds().forEach(n=>{null==i.appConfig.layouts[n].setting&&i.editLayoutProperty(n,"setting",e),i.editLayoutProperty(n,"setting.space",t.distance)}),i.exec()},this.handlePaddingChange=t=>{var e;const{layoutSetting:i}=this.props,s=(null!==(e=i.style)&&void 0!==e?e:o.DEFAULT_ROW_LAYOUT_SETTING.style).padding.unit;let r=a.styleUtils.expandStyleArray(t.number);const u=r[0]===r[1]&&r[0]===r[2]&&r[0]===r[3];if(s!==t.unit){const e=this.getSizeOfItem();null!=e&&(r=r.map((n,i)=>{const s=i%2!=0||u?e.width:e.height;return t.unit===a.DistanceUnits.PIXEL?Math.round(n*s/100):Math.round(n/s*1e3)/10}))}const l=(0,n.getAppConfigAction)();this.getLayoutIds().forEach(e=>{null==l.appConfig.layouts[e].setting&&l.editLayoutProperty(e,"setting",i),l.editLayoutProperty(e,"setting.style.padding",{number:r,unit:t.unit})}),l.exec()},this.formatMessage=t=>this.props.intl.formatMessage({id:t})}getLayoutIds(){const t=[],{layouts:e}=this.props;if(null!=e){const n=e[Object.keys(e)[0]];Object.keys(n).forEach(e=>{t.push(n[e])})}return t}getSizeOfItem(){const{id:t}=this.props,e=this.querySelector(`div[data-widgetid="${t}"]`);return null!=e?e.getBoundingClientRect():null}querySelector(t){const n=document.querySelector(`iframe[name="${e.APP_FRAME_NAME_IN_BUILDER}"]`);if(null!=n){return(n.contentDocument||n.contentWindow.document).querySelector(t)}return null}render(){var e,n;const{layoutSetting:s}=this.props,u=s.space>=0?s.space:o.DEFAULT_ROW_LAYOUT_SETTING.space,l=null!==(e=s.style)&&void 0!==e?e:o.DEFAULT_ROW_LAYOUT_SETTING.style,c=(null===(n=l.padding)||void 0===n?void 0:n.unit)===a.DistanceUnits.PERCENTAGE?100:Number.POSITIVE_INFINITY;return(0,t.jsx)("div",{className:"row-layout-setting",children:(0,t.jsxs)(i.SettingSection,{role:"group",title:this.formatMessage("layout"),"aria-label":this.formatMessage("layout"),children:[(0,t.jsx)(i.SettingRow,{label:this.formatMessage("gap"),children:(0,t.jsx)(r.InputUnit,{"aria-label":this.formatMessage("gap"),precision:0,value:a.utils.stringOfLinearUnit(u),min:0,onChange:this.handleSpaceChange,style:{width:110}})}),(0,t.jsx)(i.SettingRow,{role:"group","aria-label":this.formatMessage("padding"),label:this.formatMessage("padding"),flow:"wrap",children:(0,t.jsx)(r.Padding,{value:l.padding,max:c,onChange:this.handlePaddingChange})})]})})}}const l=e.ReactRedux.connect((t,n)=>{var i,a;const{layouts:r}=n;let u=o.DEFAULT_ROW_LAYOUT_SETTING;if(null!=r&&t.appStateInBuilder){const e=r[Object.keys(r)[0]][s.utils.getCurrentSizeMode()];u=null!==(a=null===(i=t.appStateInBuilder.appConfig.layouts[e])||void 0===i?void 0:i.setting)&&void 0!==a?a:o.DEFAULT_ROW_LAYOUT_SETTING}return{layoutSetting:(0,e.Immutable)(u)}})(u);function p(t){c.p=t}})(),d})())}}});